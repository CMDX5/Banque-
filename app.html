<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Application - Banque Digitale Africaine</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
  <script defer src="firebase-config.js"></script>
  <script defer src="app.js"></script>
</head>

<body class="app">
  <header class="topbar">
    <div class="logo">Banque Digitale Africaine</div>
    <nav class="nav">
      <a href="index.html">Accueil</a>
      <button id="logoutBtn" class="btn btn-outline small" style="display:none;">D√©connexion</button>
    </nav>
  </header>

  <main class="app-layout">
    <!-- SECTION CONNEXION -->
    <section class="auth-panel" id="authPanel">
      <h1>Connexion / Cr√©ation de compte</h1>
      <p class="muted">Cr√©e ton compte pour acc√©der √† ton tableau de bord.</p>

      <label for="emailInput">Email</label>
      <input id="emailInput" type="email" placeholder="ex: toi@mail.com" />

      <label for="passwordInput">Mot de passe</label>
      <div class="password-wrapper">
        <input id="passwordInput" type="password" placeholder="Minimum 6 caract√®res" />
        <button type="button" id="togglePassword" class="btn-eye">üëÅ</button>
      </div>

      <div class="row gap">
        <button id="signupBtn" class="btn btn-primary">Cr√©er un compte</button>
        <button id="loginBtn" class="btn btn-outline">Connexion</button>
      </div>

      <p id="authMessage" class="message"></p>
    </section>

    <!-- SECTION TABLEAU DE BORD -->
    <section class="dashboard" id="dashboard" style="display:none;">
      <div class="dashboard-header">
        <div>
          <h1>Tableau de bord</h1>
          <p class="muted">Bienvenue, <span id="userEmail"></span></p>
          <p class="muted">
            R√¥le : <span id="userRole">client</span> ‚Äî Statut KYC :
            <span id="userKycStatus" class="badge badge-kyc">none</span>
          </p>
        </div>
        <div class="balance-card">
          <span class="label">Solde principal</span>
          <span class="amount"><span id="walletBalance">0</span> XAF</span>
        </div>
      </div>

      <div class="grid grid-2 stretch">
        <section class="panel">
          <h2>Nouvelle op√©ration interne</h2>
          <label>Libell√©</label>
          <select id="txLabel">
            <option value="cashin">Cash-in mobile money</option>
            <option value="virement">Virement interne</option>
            <option value="paiement">Paiement marchand</option>
          </select>

          <label>Montant (XAF)</label>
          <input id="txAmount" type="number" step="100" placeholder="Ex: 5000" />

          <button id="addTxBtn" class="btn btn-primary btn-full">Enregistrer l‚Äôop√©ration</button>
          <p id="txMessage" class="message"></p>
        </section>

        <section class="panel" id="kycPanel">
          <h2>V√©rification d‚Äôidentit√© (KYC)</h2>
          <label>Type de document</label>
          <select id="kycDocType">
            <option value="cni">Carte Nationale d‚ÄôIdentit√©</option>
            <option value="passport">Passeport</option>
            <option value="permis">Permis de conduire</option>
          </select>

          <label>Document d‚Äôidentit√© (photo / scan)</label>
          <input id="kycDocFile" type="file" accept="image/*,.pdf" />

          <label>Selfie de v√©rification</label>
          <input id="kycSelfieFile" type="file" accept="image/*" />

          <button id="sendKycBtn" class="btn btn-outline btn-full">Envoyer mon dossier KYC</button>
          <p id="kycMessage" class="message"></p>
        </section>
      </div>

      <section class="panel">
        <h2>Historique des op√©rations</h2>
        <div id="txHistory" class="tx-history empty">
          <p class="muted small">Aucune op√©ration pour l‚Äôinstant.</p>
        </div>
      </section>
    </section>
  </main>

  <footer class="footer">
    <p>&copy; 2025 Banque Digitale Africaine ‚Äî version pilote.</p>
  </footer>
</body>
</html>
